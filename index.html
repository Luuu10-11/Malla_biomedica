<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla de Biomedicina Interactiva</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #fff;
      padding: 20px;
    }
    .ciclo {
      margin-bottom: 30px;
    }
    h2 {
      margin-top: 40px;
      color: #b35c79;
    }
    .curso {
      display: inline-block;
      margin: 8px;
      padding: 12px 16px;
      border-radius: 10px;
      background-color: #ccc;
      color: #444;
      cursor: not-allowed;
      transition: 0.3s;
      text-align: center;
      width: 260px;
    }
    .activo {
      background-color: #fcd7e3;
      cursor: pointer;
    }
    .aprobado {
      background-color: #e39cab;
      text-decoration: line-through;
      cursor: default;
      color: #fff;
    }
    button#reset {
      margin: 20px 0;
      padding: 10px 20px;
      background-color: #b35c79;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Malla Interactiva - Biomedicina ðŸ’—</h1>
  <button id="reset">Reiniciar Malla</button>
  <div id="malla"></div>

  <script>
    const cursos = {
      "Ciclo 1": [
        "CompresiÃ³n y ProducciÃ³n de Lenguaje 1",
        "Creatividad y Liderazgo",
        "Ã‰tica y CiudadanÃ­a",
        "MatemÃ¡tica BÃ¡sica",
        "Estructura y FunciÃ³n",
        "IntroducciÃ³n a la IngenierÃ­a BiomÃ©dica"
      ],
      "Ciclo 2": [
        "CÃ¡lculo 1",
        "CompresiÃ³n y ProducciÃ³n de Lenguaje 2",
        "Procesos BiolÃ³gicos 1",
        "Seminario de InvestigaciÃ³n AcadÃ©mica 1",
        "Software para IngenierÃ­a"
      ],
      "Ciclo 3": [
        "AnÃ¡lisis de Circuitos ElÃ©ctricos 1",
        "Circuitos LÃ³gicos Digitales",
        "FÃ­sica 1",
        "MatemÃ¡tica AnalÃ­tica 3",
        "Procesos BiolÃ³gicos 2"
      ],
      "Ciclo 4": [
        "AnÃ¡lisis de Circuitos ElÃ©ctricos 2",
        "EstadÃ­stica",
        "FÃ­sica 2",
        "MatemÃ¡tica AnalÃ­tica 4",
        "ProgramaciÃ³n de Computadoras"
      ],
      "Ciclo 5": [
        "Biomateriales",
        "Dispositivos y Circuitos AnalÃ³gicos",
        "Electromagnetismo",
        "MatemÃ¡tica AnalÃ­tica 5",
        "Microcontroladores"
      ],
      "Ciclo 6": [
        "BiotecnologÃ­a",
        "IngenierÃ­a de Control 1",
        "InstrumentaciÃ³n BiomÃ©dica",
        "SeÃ±ales y Sistemas",
        "Electivo 1",
        "Electivo 2"
      ],
      "Ciclo 7": [
        "DiseÃ±o de Dispositivos MÃ©dicos",
        "Fundamentos de BioinformÃ¡tica",
        "Fundamentos de BiomecÃ¡nica",
        "Modelamiento de Sistemas FisiolÃ³gicos",
        "Procesamiento Digital de SeÃ±ales"
      ],
      "Ciclo 8": [
        "Machine Learning para BioinformÃ¡tica",
        "Procesamiento Avanzado de SeÃ±ales e ImÃ¡genes",
        "Proyecto de InvestigaciÃ³n",
        "Electivo 3",
        "Electivo 4",
        "Electivo 5"
      ],
      "Ciclo 9": [
        "Proyecto BiomÃ©dico 1",
        "Electivo 6",
        "Electivo 7"
      ],
      "Ciclo 10": [
        "Proyecto BiomÃ©dico 2",
        "GestiÃ³n de TecnologÃ­a en Salud",
        "Electivo 8"
      ]
    };

    const prerequisitos = {
      "CÃ¡lculo 1": ["MatemÃ¡tica BÃ¡sica"],
      "CompresiÃ³n y ProducciÃ³n de Lenguaje 2": ["CompresiÃ³n y ProducciÃ³n de Lenguaje 1"],
      "Seminario de InvestigaciÃ³n AcadÃ©mica 1": ["CompresiÃ³n y ProducciÃ³n de Lenguaje 1"],
      "Software para IngenierÃ­a": ["MatemÃ¡tica BÃ¡sica", "IntroducciÃ³n a la IngenierÃ­a BiomÃ©dica"],
      "AnÃ¡lisis de Circuitos ElÃ©ctricos 1": ["Software para IngenierÃ­a"],
      "Circuitos LÃ³gicos Digitales": ["Software para IngenierÃ­a"],
      "FÃ­sica 1": ["CÃ¡lculo 1"],
      "MatemÃ¡tica AnalÃ­tica 3": ["CÃ¡lculo 1"],
      "Procesos BiolÃ³gicos 2": ["CÃ¡lculo 1"],
      "AnÃ¡lisis de Circuitos ElÃ©ctricos 2": ["AnÃ¡lisis de Circuitos ElÃ©ctricos 1"],
      "EstadÃ­stica": ["CÃ¡lculo 1"],
      "FÃ­sica 2": ["FÃ­sica 1"],
      "MatemÃ¡tica AnalÃ­tica 4": ["MatemÃ¡tica AnalÃ­tica 3"],
      "ProgramaciÃ³n de Computadoras": ["Circuitos LÃ³gicos Digitales"],
      "Biomateriales": ["Procesos BiolÃ³gicos 2"],
      "Dispositivos y Circuitos AnalÃ³gicos": ["AnÃ¡lisis de Circuitos ElÃ©ctricos 1"],
      "Electromagnetismo": ["FÃ­sica 2"],
      "MatemÃ¡tica AnalÃ­tica 5": ["MatemÃ¡tica AnalÃ­tica 4"],
      "Microcontroladores": ["ProgramaciÃ³n de Computadoras"],
      "BiotecnologÃ­a": ["Biomateriales"],
      "InstrumentaciÃ³n BiomÃ©dica": ["Biomateriales"],
      "SeÃ±ales y Sistemas": ["MatemÃ¡tica AnalÃ­tica 5", "EstadÃ­stica"],
      "DiseÃ±o de Dispositivos MÃ©dicos": ["InstrumentaciÃ³n BiomÃ©dica", "Microcontroladores"],
      "Fundamentos de BioinformÃ¡tica": ["BiotecnologÃ­a", "ProgramaciÃ³n de Computadoras"],
      "Fundamentos de BiomecÃ¡nica": ["IngenierÃ­a de Control 1"],
      "Modelamiento de Sistemas FisiolÃ³gicos": ["IngenierÃ­a de Control 1"],
      "Machine Learning para BioinformÃ¡tica": ["Fundamentos de BioinformÃ¡tica"],
      "Procesamiento Avanzado de SeÃ±ales e ImÃ¡genes": ["Procesamiento Digital de SeÃ±ales"],
      "Proyecto BiomÃ©dico 1": ["Proyecto de InvestigaciÃ³n"],
      "Proyecto BiomÃ©dico 2": ["Proyecto BiomÃ©dico 1"]
    };

    const estadoCursos = JSON.parse(localStorage.getItem("estadoCursos")) || {};

    function renderMalla() {
      const contenedor = document.getElementById("malla");
      contenedor.innerHTML = "";
      for (const ciclo in cursos) {
        const divCiclo = document.createElement("div");
        divCiclo.className = "ciclo";
        const h2 = document.createElement("h2");
        h2.textContent = ciclo;
        divCiclo.appendChild(h2);

        cursos[ciclo].forEach(curso => {
          const btn = document.createElement("div");
          btn.className = "curso";
          btn.textContent = curso;

          if (estadoCursos[curso] === "aprobado") {
            btn.classList.add("aprobado");
          } else {
            const requisitos = prerequisitos[curso] || [];
            const habilitado = requisitos.length === 0 || requisitos.every(req => estadoCursos[req] === "aprobado");
            if (habilitado) {
              btn.classList.add("activo");
              btn.addEventListener("click", () => aprobarCurso(curso));
            }
          }
          divCiclo.appendChild(btn);
        });
        contenedor.appendChild(divCiclo);
      }
    }

    function aprobarCurso(nombre) {
      estadoCursos[nombre] = "aprobado";
      localStorage.setItem("estadoCursos", JSON.stringify(estadoCursos));
      renderMalla();
    }

    document.getElementById("reset").addEventListener("click", () => {
      localStorage.removeItem("estadoCursos");
      location.reload();
    });

    renderMalla();
  </script>
</body>
</html>
